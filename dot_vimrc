" 基本設定
set autoindent
set nocompatible              " Vi 互換モードを無効にする
set smartindent               " 新しい行でスマートインデントを有効にする
set clipboard=unnamedplus     " システムクリップボードを使用する

" コマンドライン
set wildmenu                  " コマンドライン補完を有効にする
set wildmode=list:longest     " コマンドライン補完モード

" 検索
set hlsearch                  " 検索結果をハイライトする
set incsearch                 " インクリメンタル検索を有効にする
set ignorecase                " 検索時に大文字小文字を無視する
set smartcase                 " 検索パターンに大文字が含まれる場合はignorecaseを無視する

" 見た目設定
set relativenumber            " 行番号を表示する
set tabstop=2                 " タブをスペース2つ分に設定
set softtabstop=2 
set shiftwidth=1              " 自動インデントで使用するスペースの数
set expandtab                 " タブの代わりにスペースを使用する
set cursorline                " 現在の行をハイライトする
set showmatch                 " 対応する括弧をハイライトする
set laststatus=2              " 開いているファイル名などを表示

" カーソル位置の行と列番号を表示する
set ruler
set number

" ウィンドウの分割
set splitbelow                " 水平方向の分割を下に設定する
set splitright                " 垂直方向の分割を右に設定する

" 行の折り返しを有効にする
set wrap
set linebreak
set showbreak=>>>

" 折り畳み
set foldmethod=syntax         " シンタックスに基づいて折り畳みを設定する
set foldlevelstart=99         " デフォルトでほとんどの折り畳みを開く

" スワップファイルを無効にする
set noswapfile

" ファイルタイプの設定
filetype plugin indent on     " ファイルタイプの検出、プラグイン、インデントを有効にする

" キーバインド
" jjでノーマルモードに戻る 
inoremap <silent> jj <ESC>

" <Leader>をスペースキーに設定
let g:mapleader = "\<Space>"
" カーソル下の単語を、置換後の文字列の入力を待つ状態にする
nnoremap <Leader>re :%s;\<<C-R><C-W>\>;g<Left><Left>;
" スペース + . でvimrcを開く
nnoremap <Leader>. :!chezmoi edit --apply ~/.vimrc<CR>

" オペレーター待機モードのマッピング
" 一例：c8 で ci( の動きになる
onoremap 8 i(
onoremap 2 i"
onoremap 7 i'
onoremap @ i`
onoremap [ i[
onoremap { i{

" Ctrl + j と Ctrl + k で 段落の前後に移動
nnoremap <C-j> }
nnoremap <C-k> {

" J, K で上下の行と入れ替える
nnoremap J ddp
nnoremap K ddkP

" Ctrl + s でファイルを保存
nnoremap <C-s> :w<CR>

" vim-jetpack
let s:jetpackfile = expand('<sfile>:p:h') .. '/pack/jetpack/opt/vim-jetpack/plugin/jetpack.vim'
let s:jetpackurl = "https://raw.githubusercontent.com/tani/vim-jetpack/master/plugin/jetpack.vim"
if !filereadable(s:jetpackfile)
  call system(printf('curl -fsSLo %s --create-dirs %s', s:jetpackfile, s:jetpackurl))
endif

" プラグイン一覧
packadd vim-jetpack
call jetpack#begin()
  Jetpack 'tani/vim-jetpack', {'opt': 1} "bootstrap
  Jetpack 'tomasr/molokai'
call jetpack#end()

" color scheme 
colorscheme molokai
let g:rehash256 = 1
set t_Co=256
syntax on
" 背景色を無しにする
highlight Normal ctermbg=none
highlight NonText ctermbg=none
highlight LineNr ctermfg=7 ctermbg=none
highlight Folded ctermbg=none
highlight EndOfBuffer ctermbg=none

