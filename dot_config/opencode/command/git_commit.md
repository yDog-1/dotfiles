---
description: Gitコミットを実行する
agent: build
model: openrouter/openai/gpt-oss-120b
---

# Gitコミットメッセージ生成ルール

ステージングされた変更があった場合は、必ずその変更に対して**のみ**コミットを行ってください。
複数の変更が含まれる場合は、できるだけコミットを**分割**してください。
ファイル単位の分割だけでなく、変更内容の性質に基づいて、行単位で分割することも検討してください。

あなたがGitコミットメッセージを生成する際は、以下のConventional Commits + 絵文字スタイルに従ってください。

## 基本フォーマット

```gitcommit
<絵文字> <type>(scope): <簡潔な説明>

[詳細説明（必須）]

[フッター（オプション）]
```

## タイプ別ルールと例

### 主要タイプ

- `✨ feat(scope):` - 新機能の追加
- `🐛 fix(scope):` - バグ修正
- `📚 docs:` - ドキュメントの変更
- `💄 style:` - コードフォーマット（機能に影響しない変更）
- `♻️ refactor:` - リファクタリング
- `✅ test:` - テストの追加・修正
- `🔧 chore:` - ビルドプロセスや補助ツールの変更

### その他のタイプ

- `⚡ perf:` - パフォーマンス改善
- `👷 ci:` - CI/CD設定の変更
- `📦 build:` - ビルドシステムの変更
- `⏪ revert:` - コミットの取り消し
- `🎨 improve:` - コード構造の改善
- `🚀 deploy:` - デプロイ関連
- `🔒 security:` - セキュリティ修正
- `📱 responsive:` - レスポンシブ対応

## 書き方のルール

1. **簡潔な説明（50文字以内推奨）**
   - 動詞は現在形で統一（「追加」形式使用）
   - 最初の文字は小文字
   - 末尾にピリオドを付けない

2. **詳細説明（必要な場合）**
   - 空行を挟んで記載
   - 変更理由と背景を記載

3. **言語と一貫性**
   - 日本語で記載（英語プロジェクトの場合は英語で記載）
   - プロジェクト全体で同じスタイルを維持
   - Git logで、過去のコミットメッセージを参考にする

## 良い例

```gitcommit
✨ feat(auth): ユーザープロフィール編集機能を追加

ユーザーが自分のプロフィール情報を編集できる機能を実装。
アバター画像のアップロード機能も含む。
```

```gitcommit
🐛 fix(api): ログイン時の無限ループを修正

パスワードが間違っている場合に発生していた
無限ループの問題を解決。
```

```gitcommit
📚 docs(api): API仕様書にエラーレスポンスの説明を追加
```

## 悪い例

❌ `update: いろいろ修正`
❌ `fix bug`
❌ `💄 feat(auth): 新機能追加` （絵文字とタイプの不一致）

## 注意点

- ステージングされた変更がある場合は、その変更に対してのみコミットを行う
- 複数の変更が含まれる場合は、できるだけコミットを分割する
- 破壊的変更がある場合は `!` を type の後に追加（例：`feat!:`）
- Issue番号がある場合はフッターに記載（例：`Fixes #123`）

## コミット分割のガイドライン

### 変更タイプ別の分割基準

1. **インフラストラクチャ変更**
   - ランタイム環境の変更（例: Node.jsバージョン、Python環境）
   - ビルドツール・パッケージマネージャーの変更
   - コンテナ・仮想化環境の設定

2. **依存関係の管理**
   - 新規ライブラリ・フレームワークの追加
   - 主要な依存関係のバージョン更新
   - 依存関係の置換・削除
   - ロックファイルのメタデータ更新

3. **機能統合**
   - 新機能モジュールの実装と設定
   - 関連する設定ファイル群の追加
   - 既存機能の無効化・整理

4. **コード構成の変更**
   - アーキテクチャのリファクタリング
   - モジュール・コンポーネントの置換
   - コード構造の改善

5. **設定・外観の調整**
   - スタイル・テーマの変更
   - 設定ファイルの追加・修正
   - ユーザーインターフェースの調整

## コミット分割のガイドライン

### 分割の原則

- **単一責任の原則**: 各コミットは1つの目的・変更種類に集中
- **依存関係の考慮**: 相互に依存する変更は同じコミットに統合
- **メタデータの分離**: バージョンハッシュなどは別コミットに

このルールに従って、常に一貫性のあるコミットメッセージを生成してください。

## 実行チェックリスト

- [ ] 変更がステージングされているか確認
- [ ] 適切な type と scope が選択されているか
- [ ] メッセージが50文字以内に収まっているか
- [ ] git commit --message "..."実行後確認

## 注意事項

⚠️ **重要な注意**: このエージェントの主な役割は、コミットメッセージの生成と **実行** です。他のエージェントとは異なり、メッセージを生成するだけでは終わらず、必ず actualのコミットをステージングされたファイルに対して実行してください。コミットメッセージを計画・生成したら、即座にコミットを実行し、タスクを完了させてください。絶対にコミットを忘れないように致しましょう！
